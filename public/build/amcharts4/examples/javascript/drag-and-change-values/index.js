am4core.useTheme(am4themes_animated);var chart=am4core.create("chartdiv",am4charts.XYChart);chart.data=[{country:"USA",visits:3025},{country:"China",visits:1882},{country:"Japan",visits:1809},{country:"Germany",visits:1322},{country:"UK",visits:1122},{country:"France",visits:1114},{country:"India",visits:984},{country:"Spain",visits:711},{country:"Netherlands",visits:665},{country:"Russia",visits:580},{country:"South Korea",visits:443},{country:"Canada",visits:441}],chart.padding(40,40,40,40),chart.maskBullets=!1;var label=chart.plotContainer.createChild(am4core.Label);label.text="Drag column bullet to change it's value",label.y=92,label.x=am4core.percent(100),label.horizontalCenter="right",label.zIndex=100,label.fillOpacity=.7;var categoryAxis=chart.xAxes.push(new am4charts.CategoryAxis);categoryAxis.renderer.grid.template.location=0,categoryAxis.dataFields.category="country",categoryAxis.renderer.minGridDistance=60,categoryAxis.renderer.grid.template.disabled=!0,categoryAxis.renderer.line.disabled=!0;var valueAxis=chart.yAxes.push(new am4charts.ValueAxis);valueAxis.min=0,valueAxis.max=3500,valueAxis.strictMinMax=!0,valueAxis.renderer.line.disabled=!0,valueAxis.renderer.minWidth=40;var series=chart.series.push(new am4charts.ColumnSeries);series.dataFields.categoryX="country",series.dataFields.valueY="visits",series.tooltip.pointerOrientation="vertical",series.tooltip.dy=-8;var labelBullet=new am4charts.LabelBullet;series.bullets.push(labelBullet),labelBullet.label.text="{valueY.value.formatNumber('#.')}",labelBullet.strokeOpacity=0,labelBullet.stroke=am4core.color("#dadada"),labelBullet.dy=-20;var bullet=series.bullets.push(new am4charts.CircleBullet);bullet.stroke=am4core.color("#ffffff"),bullet.strokeWidth=3,bullet.defaultState.properties.opacity=0,bullet.cursorOverStyle=am4core.MouseCursorStyle.verticalResize,bullet.draggable=!0,bullet.circle.radius=8;var hoverState=bullet.states.create("hover");function handleDrag(e){var t=e.target.dataItem,a=valueAxis.yToValue(e.target.pixelY);t.valueY=a,t.column.isHover=!0,t.column.hideTooltip(0),e.target.isHover=!0}hoverState.properties.opacity=1,bullet.events.on("drag",(function(e){handleDrag(e)})),bullet.events.on("dragstop",(function(e){handleDrag(e),e.target.dataItem.column.isHover=!1,e.target.isHover=!1}));var columnTemplate=series.columns.template;columnTemplate.column.cornerRadiusTopLeft=8,columnTemplate.column.cornerRadiusTopRight=8,columnTemplate.fillOpacity=.8,columnTemplate.tooltipText="drag me",columnTemplate.tooltipY=0,columnTemplate.strokeOpacity=0;var columnHoverState=columnTemplate.column.states.create("hover");columnHoverState.properties.fillOpacity=1,columnHoverState.properties.cornerRadiusTopLeft=35,columnHoverState.properties.cornerRadiusTopRight=35,columnTemplate.events.on("over",(function(e){e.target.dataItem.bullets.getKey(bullet.uid).isHover=!0})),columnTemplate.events.on("out",(function(e){e.target.dataItem.bullets.getKey(bullet.uid).isHover=!1})),columnTemplate.events.on("down",(function(e){e.target.dataItem.bullets.getKey(bullet.uid).dragStart(e.pointer)})),columnTemplate.events.on("positionchanged",(function(e){var t=e.target.dataItem,a=t.bullets.getKey(bullet.uid),l=t.column;a.minX=l.pixelX+l.pixelWidth/2,a.maxX=a.minX,a.minY=0,a.maxY=chart.seriesContainer.pixelHeight})),columnTemplate.adapter.add("fill",(function(e,t){return chart.colors.getIndex(t.dataItem.index).saturate(.3)})),bullet.adapter.add("fill",(function(e,t){return chart.colors.getIndex(t.dataItem.index).saturate(.3)}));