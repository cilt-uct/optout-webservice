var label;am4core.useTheme(am4themes_animated);var chart=am4core.create("chartdiv",am4charts.XYChart);chart.paddingRight=20;for(var data=[],visits=10,i=1;i<20;i++)visits+=Math.round((Math.random()<.5?1:-1)*Math.random()*5),data.push({date:new Date(2018,0,i),value:visits});chart.data=data;var dateAxis=chart.xAxes.push(new am4charts.DateAxis);dateAxis.renderer.grid.template.location=0;var valueAxis=chart.yAxes.push(new am4charts.ValueAxis);valueAxis.tooltip.disabled=!0,valueAxis.renderer.minWidth=35;var series=chart.series.push(new am4charts.LineSeries);function animateForward(){label.text="I am funky text!",label.animate({property:"locationOnPath",from:0,to:1},12e3).events.on("animationended",animateBackwards)}function animateBackwards(){label.text="And I can go backwards!",label.animate({property:"locationOnPath",from:1,to:0},8e3).events.on("animationended",animateForward)}series.dataFields.dateX="date",series.dataFields.valueY="value",series.tooltipText="{valueY}",series.tooltip.pointerOrientation="vertical",series.tooltip.background.fillOpacity=.5,series.tensionX=.7,chart.scrollbarY=new am4core.Scrollbar,series.events.on("ready",(function(){(label=series.createChild(am4core.Label)).strokeOpacity=0,label.fontSize=20,label.fill=series.stroke,label.fillOpacity=1,label.padding(0,0,5,0),label.path=series.segments.getIndex(0).strokeSprite.path,series.segments.getIndex(0).strokeSprite.events.on("propertychanged",(function(e){"path"==e.property&&(label.path=series.segments.getIndex(0).strokeSprite.path)})),animateForward()}),1e3);